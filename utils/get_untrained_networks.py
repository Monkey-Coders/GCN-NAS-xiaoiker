
import json
import os

hashish = [
"4f1a471724603d9df405172472f4362466de7c40cae4c72bddee27da518036d0",
"583edd66a52dfec2fcd814245d60157841cd36944627d5ef6428cb308802f22d",
"639b362701548d238d3a38af27ea08e9c6a1faa4a995a617d858eb08085ad0c9",
"aed05c77b55e69cd67c4a288aad4ffc1d28256d0e6d13a0914852737d1683309",
"9f9e271cc7edfeeeb3a4a7c33ae78bbcae26e1251529d99686e99e95e17a2507",
"70c9cf32d93fa4eced8113527e14156584c1462562d249e716ee5895f3940c72",
"f3402892eece01c72e5eb6fcb4e6690cde1b9efe24a569ced3ed85ef3da87171",
"ed85990ad9c4f39ea2d0917c606a6e633ae07eeb2fe2277a98b94bb80ac6e8ec",
"13f2533ab7ec1233c1be638d09cbfad9f6d20001a99b7e1772915921cb0f584f",
"fb6ee7cdf5610ecbe9d68f60b1dfb5a4f2c129e36746160f53dcdb1c85ca7d05",
"18734a1bba96d5b115a72d1f82ac9638dceac8b4e8f1f1df59b51c5a4bde1e1e",
"cc8291967667059b68f8a5e30043281e5901287a67de3b62654d301f7a26b506",
"0a3924a046f07b289fd05bf0892969a9719bf1a10e8a2f4753ba0665898c2550",
"6588ce9917f125a2f13cd2f8dca0666eb70ade4451edb7828119c583d5bcb865",
"a8f88609e3fd5755a76d96fa4a7457fc383a829f63650717c55eb2c04a7b3a0b",
"6a95cfaccd4d05226cf93e07ece782719fd21707379242d98ebd6531c61855cc",
"099e8fe1aa89682d4da962cf651993ce58b100ca90f71f7f88d7f0e19c9eaedf",
"c697fa5502fe6b26f2be091de4338e5d86f7a8e9e2a21c97304623e42228523e",
"392214137d7d8f304a068329b9bce23a0769430c562c3488b04c5cb1329388ee",
"e4fef48ba90d924a55f175fb78ea107033351099b2d2157c67492c54d1d921a6",
"3d56dbec9775dce60b49fd43a51cf46c3e66826043490b3cfe41f0ed2871fff2",
"01e87411eef944005444c030a3750f8f29495de6c8e815acb93ffe0761bd44e5",
"c062adff76b8c01b6c9cce80a9813e0ee3c0ce8eb5954b51b60a846b27658dae",
"eb3fbf43822c66d1b4e0d9e21d77cdf59268258a881ceb8282c57971df548294",
"1fb00bfbd67af0da7437d1b8e735370c50ba526ef045dd51a9ddb51fe3234c27",
"6f8aa4d57a09f5501639317e8264403d8cdb98b690368dae1dc79e0b16601640",
"d9deb75f03af135c5c8ff4d3d5b771c711f36e105a32c0fbb4987c12639ffddd",
"888ff288bdc9592c88a7bf5214d5618aa41cf46fbb029a53888b5730a21549f8",
"8daf384d382d90483d1795258a73c4181e42ba4801adff09d930fe2a820e78f9",
"0c02ec0b16621fde302795fede69d8bab7cd3d4e33a2346e32095b6214fb5c0d",
"4996fa5ec1fbc2034548b1d5c578e3b82c638d93a52d16d0c61a667ec0bf3380",
"9e90949d983cd3c219b8bdf622aa58828565bdf9946d92214945001cf10255e8",
"af71739632d6974fdfe04425fb93c4bb1e4aa145c4ebe14b3a6c397e9770a364",
"7476cae90b7c950797f2c8caf818daf1cbdb528307c2a6872578e7b15d317753",
"bf8d339bba1f33614928bff79610abd88c7568f2a8305a8152ab724be10c7b24",
"8841597bb1bbd57977ada2ec6ac7dc3776026ed1f8401c5eb1451282b2f6c6cd",
"65f214ccd2b6f4e23749992d0aac0855d09765a9d1d7d8bb83b5ef934ff2db93",
"77c17d4be2bf3240a2d6b3a1c95d2a4751c419cdc7f1febbfb43b367dd09c2e9",
"63e2c31a5393df79f989792f69e6770dddfac315bd8f2d89ba81b9cd838fa8e7",
"2d4af52b36ea62e4bbb5a0fc04fe06d762e5fb71b94679311dcae9772e7416c0",
"ad486c2a4c0f2cc26528ea57a48102e5d05e4945967ce91adf6f3def8790ae78",
"c2a7cf7046803ce36e60b11e9e0ce58eed2b891b9ac195d2dd2dff63bf81eeef",
"cd42ffb0e1e6d71b04f09a7f14a43361175d7ef9b13624d3285f76d00e4a5c29",
"ba3907811e0c18c562887599a29b8cd6c4c3ea456d6513cecbe2d0c06a9ef3a3",
"89a68257ae66a2480c7dcdb5c100fb0c3d5ae428fb3dd2efb81fa9f44ba54aad",
"fb5ef8778f1ada86115c4762d44e1425972d2df990f04bfdcfb8383278093e2e",
"63577f0f092069ff63d7d413b64fc2255b5e589e2e0687761009a84e6cdf6eee",
"d0c3338f08fb465025e94c7cd15a8b7a84c5da2589f7150040474f5d4a658e43",
"dd40cc2b50adf00564e57a8f1249e64839a5ff0db79695706b5a5a838369106f",
"9e3b7b0a5f2d7ff271d515788dfd571e865cdd6693b17e3d0f76f4a04a0dd56d",
"ea0e1771c760d32b09c243dc864e0ee052cf7afcbae685f3a8140bc30aec89bf",
"dc47e4c308d4ff214d07cd5226dd006d662ce3d5e73401ee2afd6d0768957f33",
"faa8e0917d5d4a5f37af217ca452d20ce63f26e185b1883ebecf7cd4819a94de",
"7d74bce92b3386906dd84b0b5268ecc9139d9f92e52310e36f54a984561a8cd5",
"c788e2f47f16a972267a60e1d3f7a546f3b4e75dd1a77391363e4bd0811b47c9",
"880cfe0d206a53d58ab8bacffb539b776d7f645c455e027b3976beb99b00e580",
"f5be5d371bb50b9e0801b612883c2c3e760d9ff08bd74185eca7ae06190e83e0",
"d61d937c0a9b3938f0da240edc161ece9945a715e40a9e01287ffc964fe4b8f8",
"7d18e1948b0567ef6e34a032cf52aa7bf365aaec9f9abb190265b4e8b8ee78fe",
"514238f5da04651ecbb694b0f09d7fabc0a9efd81676cde77d53f95374842a15",
"cde1d7b639776dcdc4db23617edf0871d31b5775e5596f9f033c7ad45d7cd2d6",
"af7e47ecca27561de70996061a006a2c601512e22ed058fc4e7cb06dde50ecaf",
"01901ced25847387eb7201b254fedc3fce474339d074b28b68068a08bb2ff133",
"c3dfe23ccd6b6937d2e0611e3fd99e6a40a06a66c8925ca3d17ffa3fa7beb217",
"32c80670000a277214d684ef0cc9339b2f4e27822843ead1d40c3a015dbebbb6",
"da1a9763760208a8111fc78e13c06c3b5ef9021ea4b604dc8ba6f55596a47c2c",
"a77958de37f6102fd907313581c7bca1a217926bff2fd419728edf76083cd913",
"19d552de60e495e5c8f5f544b080cd1dd621a1f3ea62c17ae2ce27755084bb71",
"4fb223b50c28194b00b2313e75924c432e352eb9e12078cf263d1575988b095e",
"37d0f75d0bc0f298ac5aaa1e39a2b0235b3542329a984e25fbb025226b74357c",
"afd7de996307bbd2f4fc711b7697f412e3f553e1d00448e4f4ea5bf31b35072f",
"bd7b084857c3ffaaafb646bd708eecd98065bdf50cab27e7d64d1926f4d52e38",
"035346d6bdbad167bc25a9ba209e857fb54a84b24177630bb2c984fe020ad8d9",
"d3f65c36587c811d1066978d410f61370f6d42b818b8ef06878a934900868b9f",
"ddcc4f8e555e8f67dbc8c5e09c293a3e04a400c0f200664ec6f16211929420ac",
"8a495b00f70b4f8bba607d536b71b67a1cfb9424faaf81e618bb2f40f671f162",
"38df40fb57b745622fdc47517e0d754f51a8b52ef2b86ff0a89835ed2a1ba868",
"d48a21e55225c30fecfe54ab305587e360caf7dfcf14b8cef8a2de8e3623fff8",
"f22cdbf14175e58da228813a87266efc457a9ec7159a5209df13a2e1d4c4ae25",
"fe4ca86947eab80cf5448f1b7bd92e7f0041bf7d8588696684b99c0f3d561742",
"f558bd335e94d2706c93c76d774b624aebd8e52fb5e4a42ac91e9c0a1280e18d",
"f9b3353534f31d1b2a7cf49036318fd4d9d73e0d8dcf12a441dc67d8cd2a0413",
"15fa69d75de94cd82f1ec7b4b5663ee57103057f683eea5f9652d4cc619eb914",
"386077540acbc93dadede659f93d8c20faf6228d5b3ebe8f3f8affbecba9511c",
"20abd7bef980d37075fb86fd6a92d6efc9385c88840d5b1b0fa89894e62723b0",
"914291ffe609564789dbf810f14eb14e4541500be6a4eb60fa0b98e24051dba3",
"2c76067fb3dc44d7f26e6d3cbfa3258c7e121bb3bfd92682371d5bf5b553da02",
"aaa4d2419e94715ce06cd712142846d44e1a3b78449f5be1665fbf1ceb59d2fd",
"4d71801274ec7f7de9c5be6f53b51ff2f5f1fa912fb0119502533b585d0d5473",
"580ebefe2f5e0a299587ed76893e3aa2a9ab8f518ac1fdf021aeb7e2cabe45fd",
"24994f88919cadba5a67f2a518c77e4000d8021aa7899b650dafbd775f6b64e3",
"2b53452f00956c1a1dd264e5ac539062f44fbbddc77f795268a061f8165bc3af",
"c37030b918f19b0267d96361ea43ec62b942aa13554be2bcb50e65026abe8903",
"33b8d1ca57a0848ddbd09456b521d605a0fab9e3590bcb9fe33443db66967e22",
"1a19fb42f76c6a8a94ee5f3f1fe4d33089104521e93f702a9f3e0a89c266ed5c",
"b0388738635977ef06c8b2f7aba4b3b90d41e3c279064a0780349eee27dc22e4",
"2ffa096dc8f3004fd169937b05c3c1dea9e0200457c7779d9b7ae1a3315e2148",
"73c9cfbfa3fa4bd3efad5cb742401a46a739c5af8c3ad9875f96ebe862040ca4",
"0f3a80c6275547baeb642866f349e55ee29b514c442f1c187b66119861002e93",
"4548bbf3299d173460be1af979ce1fdaaa1c5d68b195aea77c0a3589ed0468a8",
"bc10735bd0faa99f733a210af8782adc08890b1af9d6e713f720eae78871f38d",
"63e3ac3e72b5061aac35c19ba0de700ab5b2c56067eb50a624a1a71423d08648",
"93211ef080614404ae1283bf2049bf6a7c68ed650eccc445f0d168e7b955409f",
"62fd4118e9263a55178a38c35f095e6c15724d1266db0e398716d4b89b729e42",
"8356a9e800c28121fcf531d22d1a8d274698c1aeaa1a4002d671445c26973309",
"00c8b5f3863c9586d0283958e34dfe5fc1ed4d71f64798034f9c85330ec1ccdb",
"1de0b53d709c23b0edab62db2c47360fa4fd6de9aaf35f93ecbfe385781e6d34",
"9e5fe07ca46d13294c4e6f19a1d901b74063915535d052d0dc1bda63d28d3147",
"227f92f31ad4ceb6bfaf05577adb991d618c9c252f9be043037525fd220eb8dd",
"62e3e3d45dc00e211ac4b0b3a9d1202cf9b1775cf05d42e1014b663d01db0280",
"b9bf620dd9a2d22b2333f686a2ae4826b81c95bc7d7665d17f53dbdcaaea4c5c",
"263120b1335eed589fb201719144a657805824d40d604ae11a42083db0187b40",
"5ca88e75903909f310745244649f11dcbb456abd12d7a95f588deb76f47f2fc5",
"6715b03c3c8639ed14f7ab32a45ac12c516de50905d1e2efe5bab6d029a4f840",
"0d0400515975932a93b879103282f71d218487576768a2c9e96ca00e518dea76",
"804641e8da0429990441736f1380867e4611b396b38d29c0a0ebd36bd6f9abc8",
"039c3c4cad5ac7b4c4b99a404345efc2a39bebfc32d530277ae4a4eb4b7334cb",
"4b6d7c475b9e5ee549c30b1b681eef71883e769340092feb08acd66e531baed4",
"ffa598d606cb6ab36b6992b8ce846f9d342eadad1a0eac7d0f8f5cfa712eef54",
]

path = "experiment"

with open(f"{path}/generated_architectures.json", "r") as f:
    architectures = json.load(f)
    

# go through all the architectures and check how many .pt files there are for each architecture in the run folder.
# get the epoch that they stopped on and if that epoch is less than 10, then add the zero cost scores to a list

push = []
for model_hash in architectures.keys():
    print("Model hash: ", model_hash)
    try:
        pt_files = [f for f in os.listdir(f"{path}/run/{model_hash}") if f.endswith(".pt")]
    except:
        # with open(f"{path}/run_not_found.txt", "a") as f:
        #     f.write(model_hash + "\n")
        continue
    if pt_files == []:
        continue
    # get the epoch that the model stopped on
    epochs = [int(f.split("-")[1]) for f in pt_files]
    max_epoch = max(epochs)
    max_index = epochs.index(max_epoch)
    
    # if the epoch is less than 10, then add the zero cost scores to a list
    
    if max_epoch < 9 and model_hash not in hashish:
        push.append({"model_hash": model_hash, "max_epoch": max_epoch, "weights": f"{path}/run/{model_hash}/{pt_files[max_index]}"})
        
with open(f"{path}/run_not_found.txt", "w") as f:
    f.write(str(push))